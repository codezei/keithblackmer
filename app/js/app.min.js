/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
// // Import vendor jQuery plugin example
// import '~/app/libs/mmenu/dist/mmenu.js'

document.addEventListener('DOMContentLoaded', function () {
  // Custom JS
  mobMenuToggle();
  stickyHeader();
});
// мобильное меню
function mobMenuToggle() {
  var btn = document.querySelector('.header__navigation-btn-menu');
  var menu = document.querySelector(btn.dataset.toggle);
  var header = document.querySelector('.header');
  btn.addEventListener('click', function (e) {
    btn.classList.toggle('active');
    menu.classList.toggle('active');
    header.classList.toggle('active');
  });
}
function stickyHeader() {
  var header = document.querySelector('.header');
  if (document.body.getBoundingClientRect().top < 0) {
    header.classList.add('sticky');
  } else {
    header.classList.remove('sticky');
  }
  document.addEventListener('scroll', function () {
    if (document.body.getBoundingClientRect().top < 0) {
      header.classList.add('sticky');
    } else {
      header.classList.remove('sticky');
    }
  });
}
function smoothScroll() {
  var linkNav = document.querySelectorAll('[href^="#"]');
  var headerHeight = document.querySelector('.header').getBoundingClientRect().height;
  var V = 0.2;
  for (var i = 0; i < linkNav.length; i++) {
    linkNav[i].addEventListener('click', function (e) {
      //по клику на ссылку
      e.preventDefault(); //отменяем стандартное поведение
      var w = window.pageYOffset; // производим прокрутка прокрутка
      var hash = this.href.replace(/[^#]*(.*)/, '$1');
      var tar = document.querySelector(hash); // к id элемента, к которому нужно перейти
      var t = tar.getBoundingClientRect().top - headerHeight;
      var start = null;
      requestAnimationFrame(step); // подробнее про функцию анимации [developer.mozilla.org]
      function step(time) {
        if (start === null) {
          start = time;
        }
        var progress = time - start,
          r = t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t);
        window.scrollTo(0, r);
        if (r != w + t) {
          requestAnimationFrame(step);
        } else {
          location.hash = hash; // URL с хэшем
        }
      }

      if (t > 1 || t < -1) {
        requestAnimationFrame(step);
      }
    });
  }
}
window.addEventListener('load', function () {
  smoothScroll();
});
/******/ })()
;